{% extends './mainadmin/index.html' %}
{% load static %}
{% block body_block %}


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register Details</title>
    <link rel="stylesheet" href="{%static '/css/style.css'%}">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

</head>
<body>
    <form id="courseForm">
        <h1>Course Submission Form</h1>
        <div class="form-group">
            <label for="Cname">Course Name:</label>
            <input type="text" name="Cname" id="Cname" required placeholder="Enter course name">
        </div>
        
        <div class="form-group">
            <label for="Iname">Instructor Name:</label>
            <input type="text" name="Iname" id="Iname" required placeholder="Enter instructor name">
        </div>
        
        <div class="form-group">
            <label for="Cdetails">Course Details:</label>
            <textarea name="Cdetails" id="Cdetails" rows="4" placeholder="Enter course details"></textarea>
        </div>

        <div class="form-group">
            <label for="Clevel">Course Level:</label>
            <select name="Clevel" id="Clevel" required>
                <option value="None">None</option>
                <option value="Beginner">Beginner</option>
                <option value="Intermediate">Intermediate</option>
                <option value="Advanced">Advanced</option>
            </select>
        </div>

        <div class="form-group">
            <label for="Ccost">Course Cost (INR):</label>
            <input type="number" name="Ccost" id="Ccost" required placeholder="Enter course cost in INR">
        </div>

        <div class="form-group">
            <label for="Type">Upload Course:</label>
            <input type="file" id="Type" name="Type" required>
        </div>

        <div class="form-group">
            <input type="submit" name="submit" id="submit" value="Submit">
        </div>

        <div class="form-group">
            <input type="reset" name="reset" id="reset" value="Reset">
        </div>

        <div class="form-group">
            <button type="button" onclick="Update()">Update</button>
            <button type="button" onclick="viewDetails()">View</button>
        </div>
    </form>

    <script>
        function Update() {
            window.location.href = "courseformUpdate.html";
        }

        function viewDetails() {
            const courseName = document.getElementById('Cname').value;
            const instructorName = document.getElementById('Iname').value;
            const courseDetails = document.getElementById('Cdetails').value;
            const courseLevel = document.getElementById('Clevel').value;
            const courseCost = document.getElementById('Ccost').value;
            const courseFile = document.getElementById('Type').value.split("\\").pop(); // Get just the file name

            const courseData = {
                courseName,
                instructorName,
                courseDetails,
                courseLevel,
                courseCost,
                courseFile
            };

            localStorage.setItem('courseData', JSON.stringify(courseData));
            window.location.href = "courseDetails.html";
        }
    </script>
</body>
</html>
{% endblock %}

